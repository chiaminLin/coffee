<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Sweeter</title>
    <link rel="icon" href="../img/logo.jpg">

    <!-- 漢堡 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- bookstrap
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->

    <link rel="stylesheet" href="../css/customizedProductionStyle.css">
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/選單.css">
    <!-- 字形 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">





    <!-- Firebase App is always required and must be first -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>

    <!-- Add additional services you want to use -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>
</head>

<body>
    <div class="container">
        <div class="topnav">
            <div class="header-left">
                <a href="../index.html" style="padding: 0px;"><img class="logo" src="../img/logo.jpg" alt="none"
                        class="header-photo-1"></a>
            </div>
            <!-- Navigation links (hidden by default) -->
            <div id="myLinks" class="myLinks">
                <a href="../html/product.html" class="nav-list-item-link">商品介紹</a>
                <a href="../html/customizedProduction.html" class="nav-list-item-link">客製化商品</a>
                <a href="" class="nav-list-item-link">顧客回饋</a>
                <a class="cartLink" href="../html/cart.html"><img src="../img/cart.svg" alt=""></a>
                <a class="loginLink" href="../html/login.html" class="nav-list-item-link"><img src="../img/login.svg"
                        alt=""></a>
            </div>
            <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
            <a href="javascript:void(0);" class="icon" onclick="hamburger()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
        <header class="header">


            <div class="header-left">
                <a href="../index.html"><img class="logo" src="../img/logo.jpg" alt="none" class="header-photo-1"></a>
            </div>


            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-list-item">
                        <a href="./product.html" class="nav-list-item-link">商品介紹</a>
                    </li>
                    <li class="nav-list-item">
                        <a href="./customizedProduction.html" class="nav-list-item-link">客製化商品</a>
                    </li>
                    <li class="nav-list-item">
                        <a href="" class="nav-list-item-link">顧客回饋</a>
                    </li>
                    <li class="nav-list-item">
                        <a class="cartLink" href="./cart.html"><img src="../img/cart.svg" alt=""></a>
                    </li>
                    <li class="nav-list-photoitem">
                        <a class="loginLink" href="./login.html" class="nav-list-item-link"><img src="../img/login.svg"
                                alt=""></a>
                    </li>
                </ul>
            </nav>


        </header>

        <!-- content-area -->
        <div class="content-area">
            <div class="top-area">
                <div class="top-text">
                    <p>滿足您的各種喜好</p>
                    <p>開始創作您的專屬飲料！</p>
                </div>
                <div class="top-photo">
                    <picture>
                        <source srcset="../img/DIY_coffee.png" media="(min-width:1200px)">
                        <!-- <source srcset="../img/DIY_coffee-middle.png" media="(min-width: 768px)"> -->
                        <source srcset="../img/DIY_coffee-middle.png" media="(min-width: 500px)">
                        <source srcset="../img/DIY_coffee-small.png" media="(min-width: 0px)">
                        <img src="../img/DIY_coffee.png" alt="">
                    </picture>
                </div>
            </div>

            <hr>

            <div class="each-area" id="first">

                <div class="milk-title">
                    <p>Step1 : 請選擇奶類</p>
                </div>

                <div class="milk-icon">
                    <div class="milk-almond-area">
                        <label for="milk-almond" class="milk-almond">
                            <div class="icon-bg">
                                <img src="../img/DIY_almond.png" alt="植物杏仁奶">
                            </div>
                            <div class="icon-text">
                                <p>植物杏仁奶</p>
                            </div>
                        </label>
                    </div>

                    <div class="milk-almond-area right">
                        <label for="milk-oat" class="milk-oat">
                            <div class="icon-bg">
                                <img src="../img/DIY_oat.png" alt="植物燕麥奶">
                            </div>
                            <div class="icon-text">
                                <p>植物燕麥奶</p>
                            </div>
                        </label>
                    </div>

                    <div class="milk-original-area">
                        <label for="milk-original" class="milk-original">
                            <div class="icon-bg">
                                <img src="../img/DIY_milk.png" alt="純鮮奶">
                            </div>
                            <div class="icon-text">
                                <p>純鮮奶</p>
                            </div>
                        </label>
                    </div>

                </div>

            </div>

            <!-- milk-area radio 控制 -->
            <div class="all-radio">
                <input type="radio" id="milk-almond" name="milk" value="杏仁奶">
                  <input type="radio" id="milk-oat" name="milk" value="燕麥奶">
                  <input type="radio" id="milk-original" name="milk" value="0">
            </div>

            <hr>

            <div class="each-area" id="second">
                <div class="coffee-title">
                    <p>Step2 : 請選擇濃縮</p>
                </div>

                <div class="coffee-icon">
                    <div class="coffee-area">
                        <label for="coffee-origin" class="coffee-origin">
                            <div class="icon-bg">
                                <img src="../img/DIY_coffee-beans.png" alt="濃縮咖啡">
                            </div>
                            <div class="icon-text">
                                <p class="text">濃縮咖啡</p>
                            </div>
                        </label>
                    </div>

                    <div class="coffee-special-area">
                        <label for="coffee-special" class="coffee-special">
                            <div class="icon-bg">
                                <img src="../img/DIY_special-beans.png" alt="季節限定特選濃縮">
                            </div>
                            <div class="icon-text">
                                <p>季節限定特選濃縮</p>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- coffee-area radio 控制 -->
            <div class="all-radio">
                <input type="radio" id="coffee-origin" name="coffee" value="0">
                  <input type="radio" id="coffee-special" name="coffee" value="當季特調">
            </div>

            <hr>

            <div class="each-area" id="third">
                <div class="sauce-title">
                    <p>Step3 : 請選擇糖漿</p>
                </div>

                <div class="sauce-icon">
                    <div class="sauce-area">
                        <label for="sauce-origin" class="sauce-origin">
                            <div class="icon-bg">
                                <img src="../img/DIY_chocolate.png" alt="可可糖漿">
                            </div>
                            <div class="icon-text">
                                <p>可可糖漿</p>
                            </div>
                        </label>
                    </div>

                    <div class="sauce-special-area">
                        <label for="sauce-special" class="sauce-special">
                            <div class="icon-bg">
                                <img src="../img/DIY_caramel.png" alt="焦糖糖漿">
                            </div>
                            <div class="icon-text">
                                <p>焦糖糖漿</p>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <div class="button-area">
                <button id="doDiy">製作特調</button>
            </div>

            <!-- sauce-area radio 控制 -->
            <div class="all-radio">
                <input type="radio" id="sauce-origin" name="sauce" value="可可">
                  <input type="radio" id="sauce-special" name="sauce" value="焦糖">
            </div>

            <hr>

            <div class="each-area" id="resultArea">
                <div class="result-title">
                    <p>您的專屬商品為</p>
                </div>

                <div class="result-name">
                    <span id="result-name">（特調產生中）</span>
                </div>

                <div class="result-content">
                    <span id="result-content">（秘方產生中）</span>
                </div>

                <div class="result-photo">
                    <img src="../img/DIY_latte.png" alt="特調結果">
                </div>

                <div class="hint">
                    <span>請將此畫面截圖保存，於親臨門市時提供給店員參考您的特調秘訣</span>
                </div>

            </div>

        </div>




        <footer class="footer">
            <div class="footer-icon">
                <a href=""><img src="../img/index_icon-fb.png" alt="none"></a>
                <a href=""><img src="../img/index_icon-ig.png" alt="none"></a>
            </div>
            <div class="footer-content">聯絡我們：thesweeter.service@gmail.com<br>Copyright &copy; The Sweeter - Cofe &
                Dessert. 202209.
            </div>
        </footer>

    </div>

    <!-- script -->

    <!--載入jQuery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!--載入jQuery UI 1.11.4-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    <script>
        $(document).ready(function () {
            var milkContent;
            var milkLableName;
            var coffeeContent;
            var coffeeLableName;
            var sauceContent;
            var sauceLableName;

            $("input[type='radio'][name='milk']").change(function () {
                if (milkLableName) {
                    $(milkLableName).children(".icon-bg").css("background-color", "#073b4c");
                }
                milkLableName = "." + $(this).attr('id');
                $(milkLableName).children(".icon-bg").css("background-color", "#c6ac8f");

                milkContent = $(milkLableName).children(".icon-text").children("p").html();

                //頁面跳轉至step2
                $('html,body').animate({ scrollTop: $("#second").offset().top - 100 }, 200);
            });

            $("input[type='radio'][name='coffee']").change(function () {
                if (coffeeLableName) {
                    $(coffeeLableName).children(".icon-bg").css("background-color", "#073b4c");
                }
                coffeeLableName = "." + $(this).attr('id');
                $(coffeeLableName).children(".icon-bg").css("background-color", "#c6ac8f");

                coffeeContent = $(coffeeLableName).children(".icon-text").children("p").html();

                //頁面跳轉至step3
                $('html,body').animate({ scrollTop: $("#third").offset().top - 100 }, 200);
            });

            $("input[type='radio'][name='sauce']").change(function () {
                if (sauceLableName) {
                    $(sauceLableName).children(".icon-bg").css("background-color", "#073b4c");
                }
                sauceLableName = "." + $(this).attr('id');
                $(sauceLableName).children(".icon-bg").css("background-color", "#c6ac8f");

                sauceContent = $(sauceLableName).children(".icon-text").children("p").html();
            });

            $('#doDiy').click(function () {
                var milk = $("input[type='radio'][name='milk']:checked").val();
                var coffee = $("input[type='radio'][name='coffee']:checked").val();
                var sauce = $("input[type='radio'][name='sauce']:checked").val();

                if (!milk) {
                    alert("請選擇奶類");
                    //頁面跳轉至奶類
                    $('html,body').animate({ scrollTop: $("#first").offset().top - 100 }, 200);
                    return;
                }

                if (!coffee) {
                    alert("請選擇濃縮");
                    //頁面跳轉至濃縮
                    $('html,body').animate({ scrollTop: $("#second").offset().top - 100 }, 200);
                    return;
                }

                if (!sauce) {
                    alert("請選擇糖漿");
                    //頁面跳轉至糖漿
                    $('html,body').animate({ scrollTop: $("#third").offset().top - 100 }, 200);
                    return;
                }

                if ($("input[type='radio'][name='milk']:checked").lenghth != 0 && $("input[type='radio'][name='coffee']:checked").lenghth != 0 && $("input[type='radio'][name='sauce']:checked").lenghth != 0) {
                    if (milk == 0) {
                        milk = "";
                    }

                    if (coffee == 0) {
                        coffee = "";
                    }

                    var result = sauce + milk + coffee + "拿鐵";
                    $('#result-name').html(result);

                    var resultContent = '（' + milkContent + '＋' + coffeeContent + '＋' + sauceContent + '）';
                    $('#result-content').html(resultContent);
                }

                //頁面跳轉至特調結果
                $('html,body').animate({ scrollTop: $("#resultArea").offset().top - 100 }, 200);

            })

            // Initialize Firebase
            firebase.initializeApp({
                apiKey: "AIzaSyAAFfrfiEidD0a4vKJ5K56UTBNVdbb3DXQ",
                authDomain: "thesweeter-d7d76.firebaseapp.com",
                projectId: "thesweeter-d7d76",
                storageBucket: "thesweeter-d7d76.appspot.com",
                messagingSenderId: "812564379233",
                appId: "1:812564379233:web:069de507fc328bb3b91c20"
            });
            // Reference Firebase Auth
            const auth = firebase.auth();

            // Listening Login User
            firebase.auth().onAuthStateChanged(function (user) {
                if (user) {
                    console.log(user);
                    $('.loginLink').attr("href", "./profile.html")
                } else {
                    console.log("not logged in");
                    $('.loginLink').attr("href", "./login.html")
                }
            });

        })
        function hamburger() {
            var x = document.getElementById("myLinks");
            if (x.style.display === "block") {
                x.style.display = "none";
            } else {
                x.style.display = "block";
            }

        }
    </script>

</body>

</html>